# كيفية استخدام ترجمة Google في منصة درع

## ✅ ما تم إضافته

تم دمج ترجمة Google Translate بشكل كامل مع منصة درع. الآن يمكن ترجمة:
- ✓ جميع واجهات المستخدم
- ✓ المحتوى من قاعدة البيانات (العناوين، الأوصاف، النصوص)
- ✓ جميع النصوص الديناميكية

---

## 📖 خطوات الاستخدام

### 1. فتح الموقع
افتح منصة درع في المتصفح

### 2. تبديل اللغة
- انقر على أيقونة اللغة (🌐) في رأس الصفحة
- اختر "الإنجليزية" للترجمة إلى الإنجليزية
- أو اختر "العربية" للعودة للعربية

### 3. الانتظار
- انتظر 2-3 ثوانٍ في أول مرة (لتحميل خدمة Google)
- سيتم ترجمة المحتوى تلقائياً

---

## 🔍 كيفية التحقق من عمل الترجمة

### افتح Console في المتصفح:
- **Chrome/Edge**: اضغط `F12` ثم اختر تبويب "Console"
- **Firefox**: اضغط `F12` ثم اختر "Console"

### ستشاهد رسائل مثل:
```
✓ Google Translate initialized
✓ Google Translate ready
Setting up language switcher...
Found 4 language links
Switching to language: en
Applying translation to: en
✓ Translation applied
```

---

## ⚠️ حل المشاكل

### المشكلة: الترجمة لا تعمل

**الحلول:**

1. **تحقق من الإنترنت**
   - تأكد من اتصالك بالإنترنت
   - Google Translate يحتاج إنترنت للعمل

2. **انتظر قليلاً**
   - في أول مرة، انتظر 3-5 ثوانٍ
   - ثم جرب تبديل اللغة مرة أخرى

3. **تحديث الصفحة**
   - اضغط `F5` لتحديث الصفحة
   - جرب مرة أخرى

4. **مسح الـ Cache**
   - اضغط `Ctrl+Shift+Delete`
   - امسح cache المتصفح
   - أعد تحميل الموقع

5. **استخدم متصفح آخر**
   - جرب Chrome أو Firefox أو Edge
   - أحياناً بعض المتصفحات تحجب Google APIs

---

## 🔧 للمطورين: رسائل الأخطاء

### إذا رأيت هذه الرسائل في Console:

**`✗ Google Translate timeout`**
- السبب: خدمة Google لم تحمّل خلال 10 ثوانٍ
- الحل: تحقق من الإنترنت، حدّث الصفحة

**`✗ Google Translate initialization failed`**
- السبب: خطأ في تحميل سكريبت Google
- الحل: تحقق من اتصال الإنترنت وجدار الحماية

**`Google Translate not ready yet`**
- السبب: ضغطت على تبديل اللغة بسرعة قبل اكتمال التحميل
- الحل: انتظر قليلاً وحاول مرة أخرى

**`Translation select not found`**
- السبب: عنصر Google Translate غير موجود في الصفحة
- الحل: تحقق من أن الملفات محدثة بشكل صحيح

---

## 📝 ملاحظات مهمة

### 1. الترجمة التلقائية
- الترجمة تتم على مستوى المتصفح (Client-side)
- لا يتم حفظ الترجمات في قاعدة البيانات
- في كل مرة تزور الموقع، سيتم إعادة الترجمة

### 2. جودة الترجمة
- الترجمة آلية من Google
- قد لا تكون دقيقة 100%
- مناسبة للفهم العام للمحتوى

### 3. الأداء
- أول ترجمة تأخذ 2-3 ثوانٍ
- الترجمات التالية تكون أسرع
- يتم حفظ تفضيل اللغة في cookies

### 4. اللغات المدعومة حالياً
- العربية (ar) - اللغة الأساسية
- الإنجليزية (en) - الترجمة المضافة

---

## 🎯 اختبار سريع

### لاختبار الترجمة:

1. افتح الصفحة الرئيسية `/`
2. افتح Console (`F12`)
3. انقر على أيقونة اللغة
4. اختر "الإنجليزية"
5. شاهد Console للتحقق من الرسائل
6. شاهد الصفحة وستجد المحتوى مترجماً

### للترجمة اليدوية من Console:
```javascript
// اكتب هذا في Console
window.switchLanguage('en');  // للإنجليزية
window.switchLanguage('ar');  // للعربية
```

---

## 📞 الدعم الفني

إذا واجهت أي مشاكل:
1. افحص Console للأخطاء
2. التقط screenshot للمشكلة
3. تواصل مع فريق التطوير

---

## ✨ الملفات المحدثة

تم تعديل هذه الملفات:
- ✅ `views/layout/layout.php` - إضافة Google Translate
- ✅ `views/layout/header.php` - إضافة data-lang للروابط
- ✅ `views/index.php` - إزالة الكود المكرر

---

**آخر تحديث**: سبتمبر 30, 2025  
**الحالة**: ✅ جاهز للاستخدام

